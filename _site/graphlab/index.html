<!DOCTYPE html>
<html>
<head>
    <!--
    * Author:         WeiLi
    -->
    <meta charset="utf-8" />
    <title>十分钟了解分布式计算:GraphLab | WeiLi</title>
    <meta name="author" content="BieYuu" />
    <meta name="renderer" content="webkit">
    <meta name="description" content="WeiLi's Blog" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <link rel="stylesheet" href="/css/default.css" type="text/css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="alternate" type="application/atom+xml" title="Recent Entries" href="/atom.xml" />
    <script src="/js/jquery-1.7.1.min.js" type="text/javascript"></script>
</head>
<body>

    <div class="home-menu">
        <div class="home-icon-con">
            <a class="home-menu-icon" href="/">WeiLi</a>
            <a class="home-follow" href="#" title="Contact Me">+</a>
        </div>
        <div class="home-contact">
            <a href="http://weibo.com/silviaazaaza/" target="_blank" style="margin-left:-5px;"><img src="http://www.weibo.com/favicon.ico" alt="" width="25"/></a>
        </div>
    </div>

    <link rel="stylesheet" href="/js/prettify/prettify.css" />
<style type="text/css">
    body { background:#e8e8e8; }
    @media screen and (max-width: 750px){
        body { background:#fff; }
    }
    @media screen and (max-width: 1020px){
        body { background:#fff; }
    }
</style>

<div id="content">
    <div class="entry">
        <h1 class="entry-title"><a href="/graphlab" title="十分钟了解分布式计算:GraphLab">十分钟了解分布式计算:GraphLab</a></h1>
        <p class="entry-date">2014-06-13</p>
        <h4>GraphLab原型论文</h4>

<p><a href="http://graphlab.org/projects/index.html">GraphLab</a>是CMU在2009年开始的一个项目，这里的内容是基于论文</p>

<p>Low, Yucheng, et al. "<a href="https://www.select.cs.cmu.edu/publications/paperdir/vldb2012-low-gonzalez-kyrola-bickson-guestrin-hellerstein.pdf">Distributed GraphLab: A Framework for Machine Learning in the Cloud</a>" Proceedings of the VLDB Endowment 5.8 (2012)[<a href="http://www.cs.cmu.edu/~ylow/vldb5.pptx">ppt</a>]</p>

<p>后续会加入GraphLab PowerGraph (v. 2.2)的内容</p>

<h5>Graph计算的背景</h5>

<p><img src="http://images.cnitblog.com/blog/331825/201406/131821276391915.png" alt="" /></p>

<ol>
<li>Graph可以刻画的范围是很广的，用户和商品之间的关系是一个典型的二部图，pagerank的random walk也是一张图</li>
<li>Graph database(Neo4j，Titan，flockdb)是用于图数据的存储检索，而涉及到复杂的Graph Processing，就适合用graphlab做。</li>
</ol>


<h5>Graph计算的特点</h5>

<p><img src="http://images.cnitblog.com/blog/331825/201406/131820593896278.png" alt="" /></p>

<ol>
<li><strong>Dependency Graph</strong>：MapReduce对于大的data并行任务（Feature Extraction/Cross Validation）是适用的，但data并行系统很难刻画data之间的依赖关系，而这一点在机器学习（Gibbs Sampling，变分法，PageRank，CoEM，Collaborative Filtering等）中非常重要。</li>
<li><strong>Local Updates</strong>：在Graph并行系统中，一个结点的值只受相邻结点的影响，因此可以根据局部值就可以做更新。而在data并行系统中是没有Local Updates的概念的，local信息可以加快计算，不同local之间可以做并行。</li>
<li><strong>Iterative Computation</strong>：和普通Map-reduce任务不同，图计算天然涉及到迭代计算。更新结点a的时候，对其所有邻居(包括邻居结点b)map，再reduce所有邻居的结果，用得到的值来update结点a的值。然后就可以用结点a的最新值去更新他的结点b了。</li>
</ol>


<h5>GraphLab框架</h5>

<p><img src="http://images.cnitblog.com/blog/331825/201406/131819389052666.png" alt="" /></p>

<ol>
<li><strong>Graph Based Data Representation</strong>：GraphLab将图切成若干子图分布式存储，其中ghost vertex是子图之间的边界点，其上存储了邻接结构以及remote数据的副本，子图之间也是有通信的，因此disk数据共享做备份很困难。</li>
<li><strong>Update Functions</strong>：采用的是Asynchronously Dynamic Update，这种动态计算的主要思想是根据vertex的priority更新，每台机器上都有一个优先队列，每次迭代中如果当前vertex变化量不大的话就不再将该点的scope（一步可达的点）入队了，ghost顶点不需要入队。改进空间：可以用排队论优化。<img src="http://images.cnitblog.com/blog/331825/201406/131822446557184.png" alt="" /></li>
<li><strong>Data consistency</strong>：需要保证Race-Free Code，如果计算overlap发生抢跑，就会产生一致性问题。GraphLab在data consistency这方面是最灵活的框架。Edge consistency的思想是one vertex apart的Update Functions才可以并行，而Overlapping regions是只读的。<img src="http://images.cnitblog.com/blog/331825/201406/131826000305796.png" alt="" />此外还可以定制Full consistency(Stronger)和Vertex consistency(Weaker)这两种一致性级别。<img src="http://images.cnitblog.com/blog/331825/201406/131828007957736.png" alt="" />Distributed Consistency问题有两种解决办法 1)图着色(算法复杂，并且可能有些颜色的patirion比较小影响效率) 2)Distributed Locking with pipelining(高效，Latency Hiding)<img src="http://images.cnitblog.com/blog/331825/201406/131832037495912.png" alt="" /></li>
<li><strong>Fault tolerance</strong>：GraphLab在这方面做的还不是很好，主要是Chandy-Lamport的asynchronous snapshotting algorithm。<img src="http://images.cnitblog.com/blog/331825/201406/131833057177480.png" alt="" /></li>
</ol>


       
    </div>

    <div class="sidenav">
        <iframe width="100%" height="75" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=75&fansRow=2&ptype=1&speed=0&skin=5&isTitle=0&noborder=0&isWeibo=0&isFans=0&uid=1665709880&verifier=cb2e2bea&dpc=1"></iframe>
    </div>

    <div class="sidenav">
        <h2>Tech</h2>
        <ul class="artical-list">
        
            <li><a href="/spark">十分钟了解分布式计算:Spark</a></li>
        
            <li><a href="/petuum">十分钟了解分布式计算:Petuum</a></li>
        
            <li><a href="/graphlab">十分钟了解分布式计算:GraphLab</a></li>
        
            <li><a href="/word2vec">文本深度表示模型Word2Vec</a></li>
        
        </ul>

        <h2>Life</h2>
        <ul class="artical-list">
        
        </ul>

        <h2>About</h2>
        <ul class="artical-list">
        
        </ul>
    </div>
</div>

<script src="/js/post.js" type="text/javascript"></script>

<!-- 多说评论框 start -->
    <div class="ds-thread" data-thread-key="请将此处替换成文章在你的站点中的ID" data-title="请替换成文章的标题" data-url="请替换成文章的网址"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"wli12"};
    (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] 
         || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
    </script>
<!-- 多说公共JS代码 end -->


    <!--*********************************************************-->
    <!--****** 宝贝儿，看见这个时候，删掉下面的统计代码哦~ ******-->
    <!--************* 再推荐下我的第一篇博客哦~~ ****************-->
    <!--*********************************************************-->

    <script type="text/javascript">
        $(function(){
            $('.home-follow').click(function(e){
                e.preventDefault();

                if($('.home-contact').is(':visible')){
                    $('.home-contact').slideUp(100);
                }else{
                    $('.home-contact').slideDown(100);
                }
            });
        })
    </script>
</body>
</html>
